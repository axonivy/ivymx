<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2016-11-11 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20161111" />
    <meta http-equiv="Content-Language" content="en" />
    <title>AXON IVY AG - Management - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.4.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="https://github.com/axonivy/management">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>IVYMX - AXON IVY Java Management Extension</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2016-11-11
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 1.0.0
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Documentation</li>
                                                                                                                                                                        
      <li class="active">
  
            <a href="#"><span class="icon-chevron-down"></span>Getting Started</a>
                  <ul class="nav nav-list">
                    
      <li>
  
                          <a href="GettingStarted.html#Register_a_MBean" title="Register a MBean">
          <span class="none"></span>
        Register a MBean</a>
            </li>
                    
      <li>
  
                          <a href="GettingStarted.html#Adding_Attributes" title="Adding attributes">
          <span class="none"></span>
        Adding attributes</a>
            </li>
                    
      <li>
  
                          <a href="GettingStarted.html#Writable_Attributes" title="Writable attributes">
          <span class="none"></span>
        Writable attributes</a>
            </li>
                    
      <li>
  
                          <a href="GettingStarted.html#Adding_Operations" title="Adding operations">
          <span class="none"></span>
        Adding operations</a>
            </li>
                    
      <li>
  
                          <a href="GettingStarted.html#EL_Like_Expressions" title="EL like expressions">
          <span class="none"></span>
        EL like expressions</a>
            </li>
                    
      <li>
  
                          <a href="GettingStarted.html#Enhanced_Example" title="Enhanced Example">
          <span class="none"></span>
        Enhanced Example</a>
            </li>
              </ul>
        </li>
                
      <li>
  
                          <a href="apidocs/index.html" title="Javadoc">
          <span class="none"></span>
        Javadoc</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                    
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                  
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Getting Started</h1>
<div class="section">
<h2>Register a MBean<a name="Register_a_MBean"></a></h2>
<p>Annotate your class with the <tt>@MBean</tt> annotation.</p>

<div class="source"><pre class="prettyprint">@MBean(&quot;GettingStarted:name=Person&quot;)
public class Person
{
  ...
}
</pre></div>
<p>Create an instance of your class and register it.</p>

<div class="source"><pre class="prettyprint">public static void main(String[] args)
{
  Person person = new Person();
  MBeans.registerMBeanFor(person);
}
</pre></div>
<p>The program above will register and export the given <tt>person</tt> object as an MBean:</p>
<p><img src="images/MBean.png" alt="MBean" /></p></div>
<div class="section">
<h2>Adding Attributes<a name="Adding_Attributes"></a></h2>
<p>To export fields of a class as MBean attribute simple annotate it as <tt>@MAttribute</tt></p>

<div class="source"><pre class="prettyprint">@MBean(&quot;GettingStarted:name=Person&quot;)
public class Person
{
  @MAttribute
  private String firstName = &quot;Reto&quot;;
}
</pre></div>
<p>The field is then available as read only attribute in the MBean:</p>
<p><img src="images/MAttribute.png" alt="MAttribute" /></p></div>
<div class="section">
<h2>Writable Attributes<a name="Writable_Attributes"></a></h2>
<p>To make a MBean writable set the <tt>MAttribute</tt> parameter <tt>isWritable</tt> to <tt>true</tt>:</p>

<div class="source"><pre class="prettyprint">@MBean(&quot;GettingStarted:name=Person&quot;)
public class Person
{
  @MAttribute(isWritable=true)
  private String firstName = &quot;Reto&quot;;
}
</pre></div>
<p>Now the MBean attribute can be changed. Changing the attribute in the MBean will also change the value of the field in the <tt>person</tt> object:</p>
<p><img src="images/MAttributeWritable.png" alt="Writable MAttribute" /></p></div>
<div class="section">
<h2>Adding Operations<a name="Adding_Operations"></a></h2>
<p>To export a method of a class as a MBean operation simple annotate it with <tt>@MOperation</tt></p>

<div class="source"><pre class="prettyprint">@MBean(&quot;GettingStarted:name=Person&quot;)
public class Person
{
  private String firstName = &quot;Reto&quot;;

  @MOperation
  private void print()
  {
    System.out.println(firstName);
  }
}
</pre></div>
<p>The operation of the MBean can now be executed and the annotated method will be called:</p>
<p><img src="images/MOperation.png" alt="MOperation" /></p></div>
<div class="section">
<h2>EL Like Expressions<a name="EL_Like_Expressions"></a></h2>
<p>To export more than one object of the same class as MBean the object&#x2019;s name must be unique. Use EL like expressions to give each object a unique name:</p>

<div class="source"><pre class="prettyprint">@MBean(&quot;GettingStarted:type=Person,name=#{firstName}&quot;)
public class Person
{
  private String firstName;

  public Person(String firstName)
  {
    this.firstName = firstName;
  }
</pre></div>
<p>Create two different Person objects with different first names and register them as MBeans:</p>

<div class="source"><pre class="prettyprint">public static void main(String[] args)
{
  Person reto = new Person(&quot;Reto&quot;);
  MBeans.registerMBeanFor(reto);

  Person flavio = new Person(&quot;Flavio&quot;);
  MBeans.registerMBeanFor(flavio);
}
</pre></div>
<p>There are now two MBean with different names registered:</p>
<p><img src="images/ElLikeExpressions.png" alt="El like expressions" /></p></div>
<div class="section">
<h2>Enhanced Example<a name="Enhanced_Example"></a></h2>
<p>The following enhanced example uses some advanced annotations:</p>

<ul>
  
<li>The <tt>@MInclude</tt> annotation can be used to add attributes and operations that are declared on an other class to the current MBean.</li>
  
<li>The <tt>@MCompositionReference</tt> can be used to reference another MBean that is also registered/unregistered if the current MBean is registered/unregistered.</li>
  
<li>The <tt>@MSizeAttribute</tt> can be used to add an attribute that contains the size of a List or Map or the length of a String.</li>
</ul>

<div class="source"><pre class="prettyprint">@MBean(value = &quot;GettingStarted:type=Person,name=#{firstName}&quot;, description = &quot;This is #{firstName} #{name} living in #{home.city}&quot;)
public class Person
{
  private String firstName;

  @MAttribute(name = &quot;lastName&quot;, description = &quot;Last name of the person&quot;, isWritable = true)
  private String name;

  // The @MInclude annotation can be used to add attributes and operations that are declared on an other class to the current MBean.
  @MInclude
  private Age age;

  // The @MCompositionReference can be used to reference another MBean that is also registered/unregistered if the current MBean is registered/unregistered.
  @MCompositionReference(concatName = true)
  private Address home;

  @MAttribute
  // The @MSizeAttribute can be used to add an attribute that contains the size of a List or Map or the length of a String.
  @MSizeAttribute(name = &quot;numberOfChildren&quot;)
  private List&lt;Child&gt;; children;

  public Person(String firstName, String name, Age age, Address home, List&lt;Child&gt; children)
  {
    this.firstName = firstName;
    this.name = name;
    this.age = age;
    this.home = home;
    this.children = children;
  }

  @MAttribute(description = &quot;First name of the person&quot;, isWritable = true)
  public String getFirstName()
  {
    return firstName;
  }

  public void setFirstName(String firstName)
  {
    this.firstName = firstName;
  }

  @MOperation(description = &quot;Prints the firstName and lastName to system out&quot;, impact = Impact.INFO)
  public void print()
  {
    System.out.print(firstName);
    System.out.print(&quot; &quot;);
    System.out.println(name);
  }

  public static void main(String[] args)
  {
    PersonRegistry registry = new PersonRegistry();
    Person reto = new Person(&quot;Reto&quot;, &quot;Weiss&quot;, new Age(LocalDate.of(1972, 6, 10)),
            new Address(&quot;Home&quot;, &quot;Baarerstrasse 12&quot;, 6300, &quot;Zug&quot;, &quot;Switzerland&quot;),
            Arrays.asList(new Child(&quot;Anna&quot;, 2001), new Child(&quot;Toni&quot;, 2003), new Child(&quot;Gisela&quot;, 2007)));
    registry.addPerson(reto);

    Person flavio = new Person(&quot;Flavio&quot;, &quot;Sadeghi&quot;, new Age(LocalDate.of(1986, 7, 23)),
            new Address(&quot;Business&quot;, &quot;Baarerstrasse 12&quot;, 6300, &quot;Zug&quot;, &quot;Switzerland&quot;),
            Arrays.asList(new Child(&quot;Mirco&quot;, 2013)));
    registry.addPerson(flavio);
  }
}

</pre></div>

<div class="source"><pre class="prettyprint">public class Age
{
  private LocalDate birthday;

  public Age(LocalDate birthday)
  {
    this.birthday = birthday;
  }

  @MAttribute(description = &quot;Age in years of the person&quot;)
  public int getAge()
  {
    return birthday.until(LocalDate.now()).getYears();
  }
}
</pre></div>

<div class="source"><pre class="prettyprint">@MBean(value = &quot;address=#{type}&quot;, description = &quot;A postal address&quot;)
public class Address
{
  @MAttribute
  private String type;
  @MAttribute
  private String street;
  @MAttribute
  private int zip;
  @MAttribute
  private String city;
  @MAttribute
  private String country;

  public Address(String type, String street, int zip, String city, String country)
  {
    this.type = type;
    this.street = street;
    this.zip = zip;
    this.city = city;
    this.country = country;
  }
}
</pre></div>
<p>The <tt>MCollections</tt> class provides methods to convert collections to managed collections. A managed collection automatically registers MBeans that are added to the collection and unregisters them if they are removed.</p>

<div class="source"><pre class="prettyprint">public class PersonRegistry
{
  // Every person put to these collection will be registered as MBean!
  private Map&lt;String, Person&gt; persons = MCollections.managedMap(new HashMap&lt;&gt;());

  public void addPerson(Person person)
  {
    persons.put(person.getFirstName(), person);
  }
}
</pre></div>

<ul>
  
<li>The annotation <tt>@MComposite</tt> declares a complex attribute type.</li>
  
<li>The <tt>@MItem</tt> annotation is used to add properties to the complex type.</li>
</ul>

<div class="source"><pre class="prettyprint">// The annotation @MComposite declares a complex attribute type
@MComposite
public class Child
{
  // The @MItem annotation is used to add properties to the complex type.
  @MItem(description = &quot;Name of the child&quot;)
  private String name;
  @MItem(description = &quot;Year of birth of the child&quot;)
  private int yearOfBirth;

  public Child(String name, int yearOfBirth)
  {
    this.name = name;
    this.yearOfBirth = yearOfBirth;
  }
}
</pre></div>
<p>The example will create the following MBeans:</p>
<p><img src="images/ExtendedExample.png" alt="ExtendedExample" /></p>
<p><img src="images/ExtendedExample2.png" alt="ExtendedExample2" /></p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2016
                        <a href="http://www.axonivy.com">AXON IVY AG</a>.
            All rights reserved.      
                    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
